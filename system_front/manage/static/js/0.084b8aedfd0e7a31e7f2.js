webpackJsonp([0,10],{205:function(e,t,a){a(237);var r=a(92)(a(235),a(238),null,null);e.exports=r.exports},218:function(e,t,a){a(306);var r=a(92)(a(251),a(329),null,null);e.exports=r.exports},230:function(e,t,a){a(233);var r=a(92)(a(231),a(234),null,null);e.exports=r.exports},231:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(57),s=a.n(r),n=a(56),i=a.n(n),o=a(58),l=a.n(o),_=a(93),p=(a(95),a(94));t.default={data:function(){return{url:"https://40964096.xyz/xiaojiejie.jpg"}},created:function(){this.adminInfo.id||this.getAdminData()},computed:l()({},a.i(p.b)(["adminInfo"])),methods:l()({},a.i(p.c)(["getAdminData"]),{handleCommand:function(e){var t=this;return i()(s.a.mark(function r(){var n;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("home"!=e){r.next=4;break}t.$router.push("/manage"),r.next=9;break;case 4:if("signout"!=e){r.next=9;break}return r.next=7,a.i(_.k)();case 7:n=r.sent,1==n.status?(t.$message({type:"success",message:"退出成功"}),t.$router.push("/")):t.$message({type:"error",message:n.message});case 9:case"end":return r.stop()}},r,t)}))()}})}},232:function(e,t,a){t=e.exports=a(203)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.header_container{background-color:#eff2f7;height:60px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px}.avator{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},233:function(e,t,a){var r=a(232);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(204)("1a5dfe8b",r,!0)},234:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[e._v("首页")]),e._v(" "),e._l(e.$route.meta,function(t,r){return a("el-breadcrumb-item",{key:r},[e._v(e._s(t))])})],2),e._v(" "),a("el-dropdown",{attrs:{"menu-align":"start"},on:{command:e.handleCommand}},[a("img",{staticClass:"avator",attrs:{src:e.url}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"home"}},[e._v("首页")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"signout"}},[e._v("退出")])],1)],1)],1)},staticRenderFns:[]}},235:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(57),s=a.n(r),n=a(56),i=a.n(n),o=a(230),l=a.n(o),_=a(93),p=a(96);t.default={name:"TicketOrder",data:function(){return{datetime:"",train_no:"",start_no:"",end_no:"",train_number:"",high_seat_price:"",medium_seat_price:"",low_seat_price:"",url2:"https://39.105.44.114/zfb.JPG",url1:"https://39.105.44.114/wx.JPG",active:0,dialogTableVisible:!1,dialogTableVisible_GD:!1,show_passenger:!0,show_passenger_ticket:!1,show_order_list:!1,passenger_count:0,high_seat:[],medium_seat:[],low_seat:[],high_seat_GD:[],medium_seat_GD:[],low_seat_GD:[],tableDatas:[],passenger_data:[],ticket_data:[],dialogFormVisible_wx:!1,dialogFormVisible_zfb:!1}},methods:{next:function(){this.active++,1==this.active&&this.getTicketCount(),2==this.active&&this.getOrderList(),4==this.active&&this.$router.push("AllOrderList")},getTicketCount:function(){var e=this;return i()(s.a.mark(function t(){var r,n,i,o,l,p,c,u,m;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(_.c)({datetime:e.datetime,train_no:e.train_no,start_no:e.start_no,end_no:e.end_no,train_number:e.train_number});case 2:if(r=t.sent,1==r.status){if("G"==e.train_number[0]||"D"==e.train_number[0]){for(e.high_seat_GD=[],e.medium_seat_GD=[],e.low_seat_GD=[],n=0;n<r.trainRemainingSeats_gds.length;n++)"特等座"==r.trainRemainingSeats_gds[n].seat_type&&(i={},i.carriage_number=r.trainRemainingSeats_gds[n].carriage_no,i.seat_type=r.trainRemainingSeats_gds[n].seat_type,i.A_num=r.trainRemainingSeats_gds[n].high_seat_GD_A,i.B_num=r.trainRemainingSeats_gds[n].high_seat_GD_B,i.C_num=r.trainRemainingSeats_gds[n].high_seat_GD_C,e.high_seat_GD.push(i)),"一等座"==r.trainRemainingSeats_gds[n].seat_type&&(o={},o.carriage_number=r.trainRemainingSeats_gds[n].carriage_no,o.seat_type=r.trainRemainingSeats_gds[n].seat_type,o.A_num=r.trainRemainingSeats_gds[n].medium_seat_GD_A,o.B_num=r.trainRemainingSeats_gds[n].medium_seat_GD_B,o.C_num=r.trainRemainingSeats_gds[n].medium_seat_GD_C,o.D_num=r.trainRemainingSeats_gds[n].medium_seat_GD_D,e.medium_seat_GD.push(o)),"二等座"==r.trainRemainingSeats_gds[n].seat_type&&(l={},l.carriage_number=r.trainRemainingSeats_gds[n].carriage_no,l.seat_type=r.trainRemainingSeats_gds[n].seat_type,l.A_num=r.trainRemainingSeats_gds[n].low_seat_GD_A,l.B_num=r.trainRemainingSeats_gds[n].low_seat_GD_B,l.C_num=r.trainRemainingSeats_gds[n].low_seat_GD_C,l.D_num=r.trainRemainingSeats_gds[n].low_seat_GD_D,l.E_num=r.trainRemainingSeats_gds[n].low_seat_GD_E,e.low_seat_GD.push(l));e.dialogTableVisible_GD=!0}else{for(e.high_seat=[],e.medium_seat=[],e.low_seat=[],p=0;p<r.trainRemainingSeats.length;p++)"软卧"==r.trainRemainingSeats[p].seat_type&&(c={},c.carriage_number=r.trainRemainingSeats[p].carriage_no,c.seat_type=r.trainRemainingSeats[p].seat_type,c.upper_num=r.trainRemainingSeats[p].high_seat_upper,c.lower_num=r.trainRemainingSeats[p].high_seat_lower,e.high_seat.push(c)),"硬卧"==r.trainRemainingSeats[p].seat_type&&(u={},u.carriage_number=r.trainRemainingSeats[p].carriage_no,u.seat_type=r.trainRemainingSeats[p].seat_type,u.upper_num=r.trainRemainingSeats[p].medium_seat_upper,u.middle_num=r.trainRemainingSeats[p].medium_seat_middle,u.lower_num=r.trainRemainingSeats[p].medium_seat_lower,e.medium_seat.push(u)),"硬坐"==r.trainRemainingSeats[p].seat_type&&(m={},m.carriage_number=r.trainRemainingSeats[p].carriage_no,m.seat_type="硬座",m.A_num=r.trainRemainingSeats[p].low_seat_A,m.B_num=r.trainRemainingSeats[p].low_seat_B,m.C_num=r.trainRemainingSeats[p].low_seat_C,m.D_num=r.trainRemainingSeats[p].low_seat_D,m.E_num=r.trainRemainingSeats[p].low_seat_E,m.F_num=r.trainRemainingSeats[p].low_seat_F,e.low_seat.push(m));e.dialogTableVisible=!0}e.$message({type:"message",message:"查询成功"})}else 404==r.status?e.$message({type:"error",message:"请输入正确时间"}):e.$message({type:"error",message:"查询失败"});case 4:case"end":return t.stop()}},t,e)}))()},getPassenger:function(){var e=this;return i()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(_.r)({token:a.i(p.a)("token")});case 2:r=t.sent,1==r.status?(e.$message({type:"success",message:"成功"}),e.tableDatas=r.passengerInfos,console.log(e.tableDatas)):e.$message({type:"error",message:res.success});case 4:case"end":return t.stop()}},t,e)}))()},AddPassengerInfo:function(e,t,a){var r={};r.passenger_real_name=e,r.passenger_phone_number=t,r.passenger_id_number=a,this.passenger_data.push(r),this.passenger_count++,this.$message({message:"当前添加了"+this.passenger_count+"位乘客",type:"success"}),this.show_passenger=!0},handleAdd:function(e,t,r){var n=this;return i()(s.a.mark(function i(){var o,l,c;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(n.passenger_count>0)){s.next=10;break}return o=n.passenger_data[n.passenger_count-1].passenger_phone_number,l=n.passenger_data[n.passenger_count-1].passenger_id_number,console.log(n.datetime+n.train_no+n.start_no+n.end_no+n.train_number+e+t+r+o+l),s.next=6,a.i(_.f)({token:a.i(p.a)("token"),datetime:n.datetime,train_no:n.train_no,start_no:n.start_no,end_no:n.end_no,train_number:n.train_number,carriage_no:e,seat_type:t,seat_number:r,passenger_phone_number:o,passenger_id_number:l,high_seat_price:n.high_seat_price,medium_seat_price:n.medium_seat_price,low_seat_price:n.low_seat_price});case 6:c=s.sent,1==c.status?o==c.passenger_phone_number&&(n.passenger_data[n.passenger_count-1].carriage_no=c.carriage_no,n.passenger_data[n.passenger_count-1].seat_type=c.seat_type,n.passenger_data[n.passenger_count-1].seat_no=c.result_seat_no,n.$message({message:"乘客"+n.passenger_data[n.passenger_count-1].passenger_real_name+"选座成功",type:"success"})):40008==c.status?n.$message({message:"该乘客有冲突的行程，无法选座",type:"warning"}):40009==c.status&&n.$message({message:"该乘客有冲突行程   ",type:"warning"}),n.passenger_count--,0==n.passenger_count&&(n.show_passenger=!1,n.show_passenger_ticket=!0);case 10:console.log(n.datetime+n.train_no+n.start_no+n.end_no+n.train_number+e+t+r);case 11:case"end":return s.stop()}},i,n)}))()},deletepassenger:function(e){for(var t=0;t<this.passenger_data.length;t++)this.passenger_data[t].passenger_phone_number==e&&this.passenger_data.splice(t,1);this.passenger_count--},getOrderList:function(){var e=this;return i()(s.a.mark(function t(){var r,n,i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(_.y)({token:a.i(p.a)("token"),datetime:e.datetime,train_no:e.train_no,start_no:e.start_no,end_no:e.end_no});case 2:if(r=t.sent,1==r.status){for(n=0;n<r.getOrderListList.length;n++)for(i=0;i<e.passenger_data.length;i++)if(r.getOrderListList[n].passenger_phone_number==e.passenger_data[i].passenger_phone_number&&r.getOrderListList[n].passenger_id_number==e.passenger_data[i].passenger_id_number)for(e.passenger_data[i].order_id=r.getOrderListList[n].order_id,o=0;o<e.tableDatas.length;o++)e.tableDatas[o].passenger_phone_number==e.passenger_data[i].passenger_phone_number&&(1==e.tableDatas[o].passenger_type?("二等座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=e.low_seat_price),"一等座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=e.medium_seat_price),"特等座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=e.high_seat_price),"硬座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=e.low_seat_price),"硬卧"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=e.medium_seat_price),"软卧"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=e.high_seat_price)):("二等座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=.75*parseInt(e.low_seat_price.substring(1,e.low_seat_price.length)),console.log(e.low_seat_price)),"一等座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=.75*parseInt(e.medium_seat_price.substring(1,e.medium_seat_price.length))),"特等座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=.75*parseInt(e.high_seat_price.substring(1,e.high_seat_price.length))),"硬座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=.5*parseInt(e.low_seat_price.substring(1,e.low_seat_price.length))),"硬卧"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=.5*parseInt(e.medium_seat_price.substring(1,e.medium_seat_price.length))),"软卧"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=.5*parseInt(e.high_seat_price.substring(1,e.high_seat_price.length)))));e.show_passenger_ticket=!1,e.show_order_list=!0,e.$message({message:"请支付您的订单",type:"success"})}else e.$message({message:"获取订单列表失败",type:"warning"});case 4:case"end":return t.stop()}},t,e)}))()},pay_success:function(){var e=this;return i()(s.a.mark(function t(){var r,n,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r="",console.log(e.passenger_data.length),n=0;n<e.passenger_data.length;n++)r=r+e.passenger_data[n].order_id+",",console.log(r);return t.next=5,a.i(_.j)({token:a.i(p.a)("token"),datetime:e.datetime,train_no:e.train_no,start_no:e.start_no,end_no:e.end_no,order_list:r});case 5:i=t.sent,1==i.status?(e.$message({message:i.success,type:"success"}),e.next()):e.$message({message:"支付失败",type:"warning"});case 7:case"end":return t.stop()}},t,e)}))()}},components:{headTop:l.a},created:function(){null==this.$route.query.datetime||null==this.$route.query.train_no?this.$message({message:"请先选择一趟列车",type:"warning"}):(this.datetime=this.$route.query.datetime,this.train_no=this.$route.query.train_no,this.start_no=this.$route.query.start_no,this.end_no=this.$route.query.end_no,this.train_number=this.$route.query.train_number,this.high_seat_price=this.$route.query.high_seat_price,this.medium_seat_price=this.$route.query.medium_seat_price,this.low_seat_price=this.$route.query.low_seat_price)},mounted:function(){this.getPassenger()}}},236:function(e,t,a){t=e.exports=a(203)(!1),t.push([e.i,'.allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.explain_text{margin-top:20px;text-align:center;font-size:20px;color:#333}.admin_set{width:60%;background-color:#f9fafc;min-height:400px;margin:20px auto 0;border-radius:10px}.admin_set ul>li{padding:20px}.admin_set ul>li span{color:#666}.admin_title{margin-top:20px;font-size:24px;color:#666;text-align:center}.avatar-uploader .el-upload{border:1px dashed #d9d9d9;margin-top:10px;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#20a0ff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:120px;height:120px;line-height:120px;text-align:center}.avatar{width:120px;height:120px;display:block}.text{font-size:14px}.item{margin-bottom:18px}.clearfix:after,.clearfix:before{display:table;content:""}.clearfix:after{clear:both}.box-card{width:480px}',""])},237:function(e,t,a){var r=a(236);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(204)("9fd49bc6",r,!0)},238:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("meta",{attrs:{"http-equiv":"Cache-Control",content:"no-cache,no-store,must-revlidate"}}),e._v(" "),a("meta",{attrs:{"http-equiv":"Expires",content:"O"}}),e._v(" "),a("meta",{attrs:{"http-equiv":"Pragma",content:"no-cache"}}),e._v(" "),a("head-top"),e._v(" "),a("el-steps",{staticStyle:{"margin-top":"10px"},attrs:{active:e.active,"align-center":""}},[a("el-step",{attrs:{title:"添加乘客"}}),e._v(" "),a("el-step",{attrs:{title:"选择座位"}}),e._v(" "),a("el-step",{attrs:{title:"付款"}}),e._v(" "),a("el-step",{attrs:{title:"订票成功"}})],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.show_passenger,expression:"show_passenger"}],staticStyle:{width:"1000px","margin-left":"80px","margin-top":"20px"},attrs:{data:e.passenger_data}},[a("el-table-column",{attrs:{property:"passenger_real_name",label:"乘客姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_phone_number",label:"乘客电话号码"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_id_number",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deletepassenger(t.row.passenger_phone_number)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.show_passenger_ticket,expression:"show_passenger_ticket"}],staticStyle:{width:"1000px","margin-left":"80px","margin-top":"20px"},attrs:{data:e.passenger_data}},[a("el-table-column",{attrs:{property:"passenger_real_name",label:"乘客姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_phone_number",label:"乘客电话号码"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_id_number",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{property:"carriage_no",label:"车厢号"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_no",label:"座位号"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.active&&e.dialogTableVisible,expression:"active === 1 && dialogTableVisible"}],staticStyle:{"margin-top":"40px","margin-left":"80px"}},[a("el-table",{attrs:{data:e.high_seat}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"upper_num",label:"上铺",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"lower_num",label:"下铺",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"上铺")}}},[e._v("上铺")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"下铺")}}},[e._v("下铺")])]}}])})],1),e._v(" "),a("el-table",{attrs:{data:e.medium_seat}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"upper_num",label:"上铺",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{property:"middle_num",label:"中铺",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{property:"lower_num",label:"下铺",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"上铺")}}},[e._v("上铺")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"中铺")}}},[e._v("中铺")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"下铺")}}},[e._v("下铺")])]}}])})],1),e._v(" "),a("el-table",{attrs:{data:e.low_seat}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"D_num",label:"D座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"E_num",label:"E座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"F_num",label:"F座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"500"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"A")}}},[e._v("A")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"B")}}},[e._v("B")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"C")}}},[e._v("C")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"D")}}},[e._v("D")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"E")}}},[e._v("E")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"F")}}},[e._v("F")])]}}])})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.active&&e.dialogTableVisible_GD,expression:"active === 1 && dialogTableVisible_GD"}],staticStyle:{"margin-top":"40px","margin-left":"80px"}},[a("el-table",{attrs:{data:e.high_seat_GD}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"A")}}},[e._v("A")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"B")}}},[e._v("B")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"C")}}},[e._v("C")])]}}])})],1),e._v(" "),a("el-table",{attrs:{data:e.medium_seat_GD}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座",width:"115"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座",width:"115"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座",width:"115"}}),e._v(" "),a("el-table-column",{attrs:{property:"D_num",label:"D座",width:"115"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"A")}}},[e._v("A")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"B")}}},[e._v("B")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"C")}}},[e._v("C")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"D")}}},[e._v("D")])]}}])})],1),e._v(" "),a("el-table",{attrs:{data:e.low_seat_GD}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{property:"D_num",label:"D座",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{property:"E_num",label:"E座",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"A")}}},[e._v("A")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"B")}}},[e._v("B")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"C")}}},[e._v("C")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"D")}}},[e._v("D")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"E")}}},[e._v("E")])]}}])})],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:0===e.active,expression:"active === 0"}]},[a("div",e._l(e.tableDatas,function(t){return a("el-card",{staticClass:"box-card",staticStyle:{width:"1000px","margin-left":"80px","margin-top":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(t.passenger_real_name))]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(a){return e.AddPassengerInfo(t.passenger_real_name,t.passenger_phone_number,t.passenger_id_number)}}},[e._v("添加")])],1),e._v(" "),a("div",{staticClass:"text item"},[a("span",[e._v("电话号码：")]),a("span",[e._v(e._s(t.passenger_phone_number))])]),e._v(" "),1==t.passenger_type?a("div",{staticClass:"text item"},[a("span",[e._v("用户类型：")]),a("span",[e._v("成人")])]):a("div",{staticClass:"text item"},[a("span",[e._v("用户类型：")]),a("span",[e._v("学生")])]),e._v(" "),a("div",{staticClass:"text item"},[a("span",[e._v("身份证号：")]),a("span",[e._v(e._s(t.passenger_id_number))])]),e._v(" "),a("div",{staticClass:"text item"},[a("span",[e._v("地址：")]),a("span",[e._v(e._s(t.passenger_address))])])])}),1)]),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:2===e.active,expression:"active === 2"}]},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.show_order_list,expression:"show_order_list"}],staticStyle:{width:"1000px","margin-left":"80px","margin-top":"20px"},attrs:{data:e.passenger_data}},[a("el-table-column",{attrs:{property:"order_id",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_real_name",label:"乘客姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_phone_number",label:"乘客电话号码"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_id_number",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{property:"carriage_no",label:"车厢号"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_no",label:"座位号"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_price",label:"订单金额"}})],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-button",{staticStyle:{"margin-left":"300px"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible_wx=!0}}},[e._v("微信支付")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"300px"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible_zfb=!0}}},[e._v("支付宝支付")])],1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"500px"},attrs:{type:"primary"},on:{click:function(t){return e.pay_success()}}},[e._v("支付成功")]),e._v(" "),a("el-dialog",{attrs:{title:"微信支付",visible:e.dialogFormVisible_wx},on:{"update:visible":function(t){e.dialogFormVisible_wx=t}}},[a("el-image",{staticStyle:{width:"300px",height:"500px"},attrs:{src:e.url1,fit:e.fit}})],1),e._v(" "),a("el-dialog",{attrs:{title:"支付宝支付",visible:e.dialogFormVisible_zfb},on:{"update:visible":function(t){e.dialogFormVisible_zfb=t}}},[a("el-image",{staticStyle:{width:"300px",height:"500px"},attrs:{src:e.url2,fit:e.fit}})],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:3===e.active,expression:"active === 3"}]},[a("div",{staticStyle:{"margin-top":"30px","margin-left":"50px","margin-right":"50px"}},[a("el-alert",{attrs:{title:"恭喜您支付成功，请在未出行订单列表中查看",type:"success",effect:"dark"}})],1)]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"500px","margin-top":"30px"},attrs:{type:"primary",round:""},on:{click:e.next}},[e._v("下一步")])],1)},staticRenderFns:[]}},251:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(57),s=a.n(r),n=a(56),i=a.n(n),o=a(230),l=a.n(o),_=a(205),p=a.n(_),c=(a(95),a(93));t.default={data:function(){return{value1:!1,city:{},offset:0,limit:20,count:0,tableData:[],currentPage:1,selectTable:{},dialogFormVisible:!1,categoryOptions:[],selectedCategory:[],address:{},searchForm:{start_station:"",end_station:"",date:""},stationData:[],dialogVisible:!1,active:0,operator:"",passenger_data:[],innerVisible:!1,passenger:{assenger_phone_number:"",passenger_real_name:"",passenger_id_number:""},rules:{passenger_phone_number:[{required:!0,message:"请输入内容",trigger:"blur"},{pattern:/^1[3|5|7|8|9]\d{9}$/,message:"请输入正确的号码格式",trigger:"blur"}],passenger_real_name:[{required:!0,message:"请输入内容",trigger:"blur"}],passenger_id_number:[{required:!0,message:"请输入内容",trigger:"blur"},{pattern:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,message:"证件号码格式有误！",trigger:"blur"}],passenger_type:[{required:!0,message:"请输入内容",trigger:"blur"}],passenger_address:[{required:!0,message:"请输入内容",trigger:"blur"}]},seat_type:"特等座",amout_money:0,price_detail:"",ridao:1,innerVisible1:!1}},created:function(){var e=this;return i()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(c.v)();case 2:r=t.sent,e.stationData=r.dataLists;case 4:case"end":return t.stop()}},t,e)}))()},components:{headTop:l.a,TicketOrder:p.a},watch:{active:{handler:function(e,t){2==this.active&&(this.operator="稍后支付","特等座"===this.seat_type?this.ridao=1:"二等座"===this.seat_type?this.ridao=2:this.ridao=3,this.amout_money=this.passenger_data.length*this.ridao*100,this.price_detail="您一共花费了"+this.amout_money+"元，请点击下方按钮完成付款,也可点击右下角按钮，稍后在未支付订单中进行付款"),3==this.active&&(this.operator="完成")}}},methods:{submitForm:function(e){var t=this;return i()(s.a.mark(function r(){return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t.$refs[e].validate(function(){var e=i()(s.a.mark(function e(r){var n,i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=8;break}return t.tableData=[],e.next=4,a.i(c.B)({train_start_station:t.searchForm.start_station,train_end_station:t.searchForm.end_station});case 4:if(n=e.sent,console.log("列车查询"),console.log(n),1==n.status)for(t.$message({type:"success",message:"搜索成功"}),t.tableData=[],i=0;i<n.trainInfos.length;i++)o={},o.train_number=n.trainInfos[i].train_number,o.type=n.trainInfos[i].train_type,o.carriages=n.trainInfos[i].train_carriages,o.start_station=n.trainInfos[i].train_start_station,o.end_station=n.trainInfos[i].train_end_station,o.start_time=n.trainInfos[i].train_start_time,o.arrive_time=n.trainInfos[i].train_end_time,o.running_time=n.trainInfos[i].train_running_time,console.log(o),t.tableData.push(o);else t.$message({type:"error",message:"搜索失败，没有对应的列车"});case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return r.stop()}},r,t)}))()},TrainRank:function(){if(!1===this.value1){for(var e=0;e<this.tableData.length;e++)for(var t=0;t<this.tableData.length-e-1;t++)if(this.transferTime(this.tableData[t].start_time)>this.transferTime(this.tableData[t+1].start_time)){var a=this.tableData[t];this.tableData[t]=this.tableData[t+1],this.tableData[t+1]=a}}else for(var r=0;r<this.tableData.length;r++)for(var s=0;s<this.tableData.length-r-1;s++)if(this.transferTime(this.tableData[s].running_time)>this.transferTime(this.tableData[s+1].running_time)){var n=this.tableData[s];this.tableData[s]=this.tableData[s+1],this.tableData[s+1]=n}},transferTime:function(e){var t=e.split(":");return 60*parseInt(t[0])+parseInt(t[1])},transfer:function(){this.$router.push("/TrainTransfer")},handelUpdate:function(){this.TrainRank()},querySearch:function(e,t){var a=this;return i()(s.a.mark(function r(){var n,i;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n=a.stationData,i=e?n.filter(a.createFilter(e)):n,clearTimeout(a.timeout),a.timeout=setTimeout(function(){t(i)},1e3*Math.random());case 4:case"end":return r.stop()}},r,a)}))()},createFilter:function(e){return function(t){return-1!==t.value.toLowerCase().indexOf(e.toLowerCase())}},handleEdit:function(e,t){this.dialogVisible=!0},close:function(){this.dialogVisible=!1,this.passenger_data=[],this.active=0},next:function(){this.active++},add:function(){this.innerVisible=!0},addPass:function(){this.passenger_data.push(this.passenger),this.passenger={},this.innerVisible=!1},handleDelete:function(e,t){console.log("删除数据"),this.passenger_data.splice(e,1)},payMoney:function(){this.active++,this.innerVisible1=!1}}}},283:function(e,t,a){t=e.exports=a(203)(!1),t.push([e.i,'.allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.demo-table-expand{font-size:0}.demo-table-expand label{width:90px;color:#99a9bf}.demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:50%}.table_container{padding:20px}.Pagination{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start;margin-top:8px}.avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#20a0ff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:120px;height:120px;line-height:120px;text-align:center}.avatar{width:120px;height:120px;display:block}.el-scrollbar__wrap{overflow-x:hidden!important}.text{font-size:14px}.item{margin-bottom:18px}.clearfix:after,.clearfix:before{display:table;content:""}.clearfix:after{clear:both}.box-card{width:480px}',""])},306:function(e,t,a){var r=a(283);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(204)("0c7228b3",r,!0)},329:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fillcontain"},[a("meta",{attrs:{"http-equiv":"Cache-Control",content:"no-cache,no-store,must-revlidate"}}),e._v(" "),a("meta",{attrs:{"http-equiv":"Expires",content:"O"}}),e._v(" "),a("meta",{attrs:{"http-equiv":"Pragma",content:"no-cache"}}),e._v(" "),a("head-top"),e._v(" "),a("el-form",{ref:"searchForm",attrs:{model:e.searchForm}},[a("el-row",{staticStyle:{"margin-left":"300px","margin-top":"10px",width:"800px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入始发站","trigger-on-focus":!0},on:{select:e.handleSelect},model:{value:e.searchForm.start_station,callback:function(t){e.$set(e.searchForm,"start_station",t)},expression:"searchForm.start_station"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{"margin-left":"20px"}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入终点站","trigger-on-focus":!0},on:{select:e.handleSelect},model:{value:e.searchForm.end_station,callback:function(t){e.$set(e.searchForm,"end_station",t)},expression:"searchForm.end_station"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.submitForm("searchForm")}}},[e._v("搜索")])],1)]),e._v(" "),a("el-switch",{staticStyle:{"margin-top":"30px","margin-left":"20px"},attrs:{"inactive-text":"按开车时间排序","active-text":"按运行时间排序"},nativeOn:{click:function(t){return e.handelUpdate()}},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1)],1),e._v(" "),a("div",{staticClass:"table_container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"train_number","tree-props":{children:"tableData_c",hasChildren:"true"}}},[a("el-table-column",{attrs:{label:"车次",prop:"train_number"}}),e._v(" "),a("el-table-column",{attrs:{label:"出发站",prop:"start_station"}}),e._v(" "),a("el-table-column",{attrs:{label:"到达站",prop:"end_station"}}),e._v(" "),a("el-table-column",{attrs:{label:"出发时间",prop:"start_time"}}),e._v(" "),a("el-table-column",{attrs:{label:"到达时间",prop:"arrive_time"}}),e._v(" "),a("el-table-column",{attrs:{label:"运行及停靠时间",prop:"running_time"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("订购")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"购票",visible:e.dialogVisible,width:"80%","before-close":e.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-dialog",{attrs:{width:"30%",title:"添加乘客",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[a("el-form",{ref:"passenger",staticClass:"form_contianer",attrs:{rules:e.rules,model:e.passenger}},[a("el-form-item",{attrs:{prop:"passenger_phone_number"}},[a("el-input",{attrs:{placeholder:"电话号码"},model:{value:e.passenger.passenger_phone_number,callback:function(t){e.$set(e.passenger,"passenger_phone_number",t)},expression:"passenger.passenger_phone_number"}},[a("span",[e._v("dsfsf")])])],1),e._v(" "),a("el-form-item",{attrs:{prop:"passenger_real_name"}},[a("el-input",{attrs:{placeholder:"真实姓名"},model:{value:e.passenger.passenger_real_name,callback:function(t){e.$set(e.passenger,"passenger_real_name",t)},expression:"passenger.passenger_real_name"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"passenger_id_number"}},[a("el-input",{attrs:{placeholder:"身份证号"},model:{value:e.passenger.passenger_id_number,callback:function(t){e.$set(e.passenger,"passenger_id_number",t)},expression:"passenger.passenger_id_number"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.innerVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addPass}},[e._v("确认")])],1)],1),e._v(" "),a("el-scrollbar",{staticStyle:{height:"400px"}},[a("el-steps",{staticStyle:{"margin-top":"10px"},attrs:{active:e.active,"align-center":""}},[a("el-step",{attrs:{title:"添加乘客"}}),e._v(" "),a("el-step",{attrs:{title:"选择座位等级"}}),e._v(" "),a("el-step",{attrs:{title:"付款"}}),e._v(" "),a("el-step",{attrs:{title:"订票成功"}})],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:0==e.active,expression:"active==0"}],staticStyle:{width:"1000px","margin-left":"80px","margin-top":"20px"},attrs:{data:e.passenger_data}},[a("el-table-column",{attrs:{property:"passenger_real_name",label:"乘客姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_phone_number",label:"乘客电话号码"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_id_number",label:"身份证号"}})],1),e._v(" "),a("el-row",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.active,expression:"active==0"}],staticStyle:{"margin-top":"30px","margin-left":"80px","margin-right":"50px"},attrs:{type:"primary",size:"mini"},on:{click:e.add}},[e._v("添加乘客")])],1),e._v(" "),a("el-row",[a("div",{directives:[{name:"show",rawName:"v-show",value:3==this.active,expression:"this.active==3"}],staticStyle:{"margin-top":"30px","margin-left":"50px","margin-right":"50px"}},[a("el-alert",{attrs:{title:"恭喜您购票成功,请在已支付订单中查看详细的信息",type:"success",effect:"dark"}})],1)]),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:1==e.active,expression:"active==1"}]},[a("div",{staticStyle:{"margin-top":"30px","margin-left":"100px","margin-right":"50px"}},[a("el-radio",{attrs:{label:"特等座"},model:{value:e.seat_type,callback:function(t){e.seat_type=t},expression:"seat_type"}},[e._v("特等座")]),e._v(" "),a("el-radio",{attrs:{label:"一等座"},model:{value:e.seat_type,callback:function(t){e.seat_type=t},expression:"seat_type"}},[e._v("一等座")]),e._v(" "),a("el-radio",{attrs:{label:"二等座"},model:{value:e.seat_type,callback:function(t){e.seat_type=t},expression:"seat_type"}},[e._v("二等座")])],1)]),e._v(" "),a("el-row",[a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.active,expression:"active==2"}],staticStyle:{"margin-top":"30px","margin-left":"50px","margin-right":"50px"}},[a("el-alert",{attrs:{title:e.price_detail,type:"success",effect:"dark"}}),e._v(" "),a("el-button",{staticStyle:{"margin-top":"30px"},attrs:{type:"primary"},on:{click:function(t){e.innerVisible1=!0}}},[e._v("点击付款")])],1)])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.active<=2,expression:"active<=2"}],attrs:{type:"primary"},on:{click:e.next}},[e._v("下一步")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.active>=2,expression:"active>=2"}],attrs:{type:"primary"},on:{click:e.close}},[e._v(e._s(this.operator))])],1),e._v(" "),a("el-dialog",{attrs:{width:"60%",title:"支付成功",visible:e.innerVisible1,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible1=t}}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("详细账单")])]),e._v(" "),a("div",{staticClass:"text item"},[e._v("\n                            "+e._s("座位等级:"+this.seat_type)+"\n                        ")]),e._v(" "),a("div",{staticClass:"text item"},[e._v("\n                            "+e._s("单价:"+100*this.ridao)+"\n                        ")]),e._v(" "),a("div",{staticClass:"text item"},[e._v("\n                            "+e._s("票数:"+this.passenger_data.length)+"\n                        ")]),e._v(" "),a("div",{staticClass:"text item"},[e._v("\n                            "+e._s("总金额:"+this.amout_money)+"\n                        ")])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.payMoney}},[e._v("确认")])],1)],1)],1)],1)},staticRenderFns:[]}}});