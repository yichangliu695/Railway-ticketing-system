webpackJsonp([10],{212:function(e,t,a){a(291);var r=a(92)(a(239),a(312),null,null);e.exports=r.exports},227:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(57),n=a.n(r),i=a(56),s=a.n(i),_=a(58),l=a.n(_),o=a(93),m=(a(95),a(94));t.default={data:function(){return{url:"https://40964096.xyz/xiaojiejie.jpg"}},created:function(){this.adminInfo.id||this.getAdminData()},computed:l()({},a.i(m.b)(["adminInfo"])),methods:l()({},a.i(m.c)(["getAdminData"]),{handleCommand:function(e){var t=this;return s()(n.a.mark(function r(){var i;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("home"!=e){r.next=4;break}t.$router.push("/manage"),r.next=9;break;case 4:if("signout"!=e){r.next=9;break}return r.next=7,a.i(o.k)();case 7:i=r.sent,1==i.status?(t.$message({type:"success",message:"退出成功"}),t.$router.push("/")):t.$message({type:"error",message:i.message});case 9:case"end":return r.stop()}},r,t)}))()}})}},228:function(e,t,a){t=e.exports=a(203)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.header_container{background-color:#eff2f7;height:60px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px}.avator{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},229:function(e,t,a){var r=a(228);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(204)("1a5dfe8b",r,!0)},230:function(e,t,a){a(229);var r=a(92)(a(227),a(231),null,null);e.exports=r.exports},231:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[e._v("首页")]),e._v(" "),e._l(e.$route.meta,function(t,r){return a("el-breadcrumb-item",{key:r},[e._v(e._s(t))])})],2),e._v(" "),a("el-dropdown",{attrs:{"menu-align":"start"},on:{command:e.handleCommand}},[a("img",{staticClass:"avator",attrs:{src:e.url}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"home"}},[e._v("首页")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"signout"}},[e._v("退出")])],1)],1)],1)},staticRenderFns:[]}},239:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(57),n=a.n(r),i=a(56),s=a.n(i),_=a(230),l=a.n(_),o=a(93),m=a(96);t.default={name:"TicketOrder",data:function(){return{datetime:"",order_id:"",start_station_name:"",end_station_name:"",passenger_phone_number:"",active:0,train_number_old:"",tableData:[],high_seat:[{carriage_number:"1",seat_type:"2",upper_num:"3",lower_num:"4"}],medium_seat:[{carriage_number:"1",seat_type:"2",upper_num:"3",middle_num:"5",lower_num:"4"}],low_seat:[{carriage_number:"1",seat_type:"2",A_num:"3",B_num:"5",C_num:"4",D_num:"4",E_num:"4",F_num:"4"}],high_seat_GD:[{carriage_number:"1",seat_type:"2",A_num:"3",B_num:"5",C_num:"4"}],medium_seat_GD:[{carriage_number:"1",seat_type:"2",A_num:"3",B_num:"5",C_num:"4",D_num:"4"}],low_seat_GD:[{carriage_number:"1",seat_type:"2",A_num:"3",B_num:"5",C_num:"4",D_num:"4",E_num:"4"}],dialogTableVisible:!1,dialogTableVisible_GD:!1,searchForm:{start_station:"",end_station:"",datetime:""},train_no:"",start_no:"",end_no:"",train_number:"",high_seat_price:"",medium_seat_price:"",low_seat_price:"",dialogTableVisible_x:!1,dialogTableVisible_x_GD:!1,passenger_data:[],show_passenger_ticket:!1,dialogFormVisible_wx:!1,dialogFormVisible_zfb:!1,show_order_list:!1,details:"",url2:"https://39.105.44.114/zfb.JPG",url1:"https://39.105.44.114/wx.JPG",new_order_id:""}},methods:{next:function(){this.active++,1==this.active&&this.getTicketCount(),2==this.active&&this.getOrderList(),4==this.active&&this.$router.push("AllOrderList")},initData:function(){var e=this;return s()(n.a.mark(function t(){var r,i,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.tableData=[],t.next=3,a.i(o.b)({train_start_station:e.start_station_name,train_end_station:e.end_station_name,datetime:e.datetime});case 3:if(r=t.sent,1==r.status){for(e.$message({type:"success",message:"查询成功"}),e.tableData=[],i=0;i<r.trainTicketPriceInfoList.length;i++)s={},s.train_no=r.trainTicketPriceInfoList[i].train_no,s.train_number=r.trainTicketPriceInfoList[i].train_number,s.start_station=r.trainTicketPriceInfoList[i].start_station,s.end_station=r.trainTicketPriceInfoList[i].end_station,s.start_time=r.trainTicketPriceInfoList[i].start_time,s.arrive_time=r.trainTicketPriceInfoList[i].arrive_time,s.high_seat_price=r.trainTicketPriceInfoList[i].high_seat_price,s.medium_seat_price=r.trainTicketPriceInfoList[i].medium_seat_price,s.low_seat_price=r.trainTicketPriceInfoList[i].low_seat_price,s.end_no=r.trainTicketPriceInfoList[i].end_no,s.start_no=r.trainTicketPriceInfoList[i].start_no,e.tableData.push(s);console.log(e.tableData)}else 404==r.status?e.$message({type:"error",message:"没有符合条件的列车"}):406==r.status?e.$message({type:"error",message:"没有符合条件的列车"}):e.$message({type:"error",message:"查询失败"});case 5:case"end":return t.stop()}},t,e)}))()},handleSearch:function(e,t,r,i,_,l){var m=this;return s()(n.a.mark(function e(){var s,u,p,c,d,g,b,h,y;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.i(o.c)({datetime:t,train_no:r,start_no:i,end_no:_,train_number:l});case 2:if(s=e.sent,1==s.status){if("G"==l[0]||"D"==l[0]){for(m.high_seat_GD=[],m.medium_seat_GD=[],m.low_seat_GD=[],u=0;u<s.trainRemainingSeats_gds.length;u++)"特等座"==s.trainRemainingSeats_gds[u].seat_type&&(p={},p.carriage_number=s.trainRemainingSeats_gds[u].carriage_no,p.seat_type=s.trainRemainingSeats_gds[u].seat_type,p.A_num=s.trainRemainingSeats_gds[u].high_seat_GD_A,p.B_num=s.trainRemainingSeats_gds[u].high_seat_GD_B,p.C_num=s.trainRemainingSeats_gds[u].high_seat_GD_C,m.high_seat_GD.push(p)),"一等座"==s.trainRemainingSeats_gds[u].seat_type&&(c={},c.carriage_number=s.trainRemainingSeats_gds[u].carriage_no,c.seat_type=s.trainRemainingSeats_gds[u].seat_type,c.A_num=s.trainRemainingSeats_gds[u].medium_seat_GD_A,c.B_num=s.trainRemainingSeats_gds[u].medium_seat_GD_B,c.C_num=s.trainRemainingSeats_gds[u].medium_seat_GD_C,c.D_num=s.trainRemainingSeats_gds[u].medium_seat_GD_D,m.medium_seat_GD.push(c)),"二等座"==s.trainRemainingSeats_gds[u].seat_type&&(d={},d.carriage_number=s.trainRemainingSeats_gds[u].carriage_no,d.seat_type=s.trainRemainingSeats_gds[u].seat_type,d.A_num=s.trainRemainingSeats_gds[u].low_seat_GD_A,d.B_num=s.trainRemainingSeats_gds[u].low_seat_GD_B,d.C_num=s.trainRemainingSeats_gds[u].low_seat_GD_C,d.D_num=s.trainRemainingSeats_gds[u].low_seat_GD_D,d.E_num=s.trainRemainingSeats_gds[u].low_seat_GD_E,m.low_seat_GD.push(d));m.dialogTableVisible_GD=!0}else{for(m.high_seat=[],m.medium_seat=[],m.low_seat=[],g=0;g<s.trainRemainingSeats.length;g++)"软卧"==s.trainRemainingSeats[g].seat_type&&(b={},b.carriage_number=s.trainRemainingSeats[g].carriage_no,b.seat_type=s.trainRemainingSeats[g].seat_type,b.upper_num=s.trainRemainingSeats[g].high_seat_upper,b.lower_num=s.trainRemainingSeats[g].high_seat_lower,m.high_seat.push(b)),"硬卧"==s.trainRemainingSeats[g].seat_type&&(h={},h.carriage_number=s.trainRemainingSeats[g].carriage_no,h.seat_type=s.trainRemainingSeats[g].seat_type,h.upper_num=s.trainRemainingSeats[g].medium_seat_upper,h.middle_num=s.trainRemainingSeats[g].medium_seat_middle,h.lower_num=s.trainRemainingSeats[g].medium_seat_lower,m.medium_seat.push(h)),"硬坐"==s.trainRemainingSeats[g].seat_type&&(y={},y.carriage_number=s.trainRemainingSeats[g].carriage_no,y.seat_type="硬座",y.A_num=s.trainRemainingSeats[g].low_seat_A,y.B_num=s.trainRemainingSeats[g].low_seat_B,y.C_num=s.trainRemainingSeats[g].low_seat_C,y.D_num=s.trainRemainingSeats[g].low_seat_D,y.E_num=s.trainRemainingSeats[g].low_seat_E,y.F_num=s.trainRemainingSeats[g].low_seat_F,m.low_seat.push(y));m.dialogTableVisible=!0}m.$message({type:"message",message:"查询成功"}),console.log(m.low_seat_GD)}else 404==s.status?m.$message({type:"error",message:"请输入正确时间"}):m.$message({type:"error",message:"查询失败"});case 4:case"end":return e.stop()}},e,m)}))()},checkTime:function(e){return e<10&&(e="0"+e),e},handleBuy:function(e,t,a,r,n,i,s,_,l){this.train_no=a,this.start_no=r,this.end_no=n,this.train_number=i,this.high_seat_price=s,this.medium_seat_price=_,this.low_seat_price=l,this.next()},getTicketCount:function(){var e=this;return s()(n.a.mark(function t(){var r,i,s,_,l,m,u,p,c;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(o.c)({datetime:e.datetime,train_no:e.train_no,start_no:e.start_no,end_no:e.end_no,train_number:e.train_number});case 2:if(r=t.sent,1==r.status){if("G"==e.train_number[0]||"D"==e.train_number[0]){for(e.high_seat_GD=[],e.medium_seat_GD=[],e.low_seat_GD=[],i=0;i<r.trainRemainingSeats_gds.length;i++)"特等座"==r.trainRemainingSeats_gds[i].seat_type&&(s={},s.carriage_number=r.trainRemainingSeats_gds[i].carriage_no,s.seat_type=r.trainRemainingSeats_gds[i].seat_type,s.A_num=r.trainRemainingSeats_gds[i].high_seat_GD_A,s.B_num=r.trainRemainingSeats_gds[i].high_seat_GD_B,s.C_num=r.trainRemainingSeats_gds[i].high_seat_GD_C,e.high_seat_GD.push(s)),"一等座"==r.trainRemainingSeats_gds[i].seat_type&&(_={},_.carriage_number=r.trainRemainingSeats_gds[i].carriage_no,_.seat_type=r.trainRemainingSeats_gds[i].seat_type,_.A_num=r.trainRemainingSeats_gds[i].medium_seat_GD_A,_.B_num=r.trainRemainingSeats_gds[i].medium_seat_GD_B,_.C_num=r.trainRemainingSeats_gds[i].medium_seat_GD_C,_.D_num=r.trainRemainingSeats_gds[i].medium_seat_GD_D,e.medium_seat_GD.push(_)),"二等座"==r.trainRemainingSeats_gds[i].seat_type&&(l={},l.carriage_number=r.trainRemainingSeats_gds[i].carriage_no,l.seat_type=r.trainRemainingSeats_gds[i].seat_type,l.A_num=r.trainRemainingSeats_gds[i].low_seat_GD_A,l.B_num=r.trainRemainingSeats_gds[i].low_seat_GD_B,l.C_num=r.trainRemainingSeats_gds[i].low_seat_GD_C,l.D_num=r.trainRemainingSeats_gds[i].low_seat_GD_D,l.E_num=r.trainRemainingSeats_gds[i].low_seat_GD_E,e.low_seat_GD.push(l));e.dialogTableVisible_x_GD=!0}else{for(e.high_seat=[],e.medium_seat=[],e.low_seat=[],m=0;m<r.trainRemainingSeats.length;m++)"软卧"==r.trainRemainingSeats[m].seat_type&&(u={},u.carriage_number=r.trainRemainingSeats[m].carriage_no,u.seat_type=r.trainRemainingSeats[m].seat_type,u.upper_num=r.trainRemainingSeats[m].high_seat_upper,u.lower_num=r.trainRemainingSeats[m].high_seat_lower,e.high_seat.push(u)),"硬卧"==r.trainRemainingSeats[m].seat_type&&(p={},p.carriage_number=r.trainRemainingSeats[m].carriage_no,p.seat_type=r.trainRemainingSeats[m].seat_type,p.upper_num=r.trainRemainingSeats[m].medium_seat_upper,p.middle_num=r.trainRemainingSeats[m].medium_seat_middle,p.lower_num=r.trainRemainingSeats[m].medium_seat_lower,e.medium_seat.push(p)),"硬坐"==r.trainRemainingSeats[m].seat_type&&(c={},c.carriage_number=r.trainRemainingSeats[m].carriage_no,c.seat_type="硬座",c.A_num=r.trainRemainingSeats[m].low_seat_A,c.B_num=r.trainRemainingSeats[m].low_seat_B,c.C_num=r.trainRemainingSeats[m].low_seat_C,c.D_num=r.trainRemainingSeats[m].low_seat_D,c.E_num=r.trainRemainingSeats[m].low_seat_E,c.F_num=r.trainRemainingSeats[m].low_seat_F,e.low_seat.push(c));e.dialogTableVisible_x=!0}e.$message({type:"message",message:"查询成功"})}else 404==r.status?e.$message({type:"error",message:"请输入正确时间"}):e.$message({type:"error",message:"查询失败"});case 4:case"end":return t.stop()}},t,e)}))()},handleAdd:function(e,t,r){var i=this;return s()(n.a.mark(function s(){var _,l,u,p,c,d,g;return n.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.i(o.d)({passenger_phone_number:i.passenger_phone_number});case 2:if(_=n.sent,1==_.status)for(i.passenger_data=[],l=0;l<_.passengerInfos.length;l++)u={},u.passenger_real_name=_.passengerInfos[l].passenger_real_name,u.passenger_id_number=_.passengerInfos[l].passenger_id_number,u.passenger_phone_number=_.passengerInfos[l].passenger_phone_number,i.passenger_data.push(u);return console.log(i.passenger_data),p=i.passenger_data[0].passenger_id_number,n.next=8,a.i(o.e)({token:a.i(m.a)("token"),datetime:i.datetime,order_id:i.order_id,passenger_phone_number:i.passenger_phone_number});case 8:if(c=n.sent,1!=c.status){n.next=14;break}return n.next=12,a.i(o.f)({token:a.i(m.a)("token"),datetime:i.datetime,train_no:i.train_no,start_no:i.start_no,end_no:i.end_no,train_number:i.train_number,carriage_no:e,seat_type:t,seat_number:r,passenger_phone_number:i.passenger_phone_number,passenger_id_number:p,high_seat_price:i.high_seat_price,medium_seat_price:i.medium_seat_price,low_seat_price:i.low_seat_price});case 12:d=n.sent,1==d.status?(g={},g.passenger_real_name=i.passenger_data[0].passenger_real_name,g.passenger_id_number=i.passenger_data[0].passenger_id_number,g.passenger_phone_number=i.passenger_data[0].passenger_phone_number,i.passenger_data=[],g.train_number=i.train_number,g.carriage_no=d.carriage_no,g.seat_type=d.seat_type,g.seat_no=d.result_seat_no,i.passenger_data.push(g),i.show_passenger_ticket=!0,i.$message({type:"message",message:"选座成功"}),i.next()):i.$message({type:"error",message:"选座失败"});case 14:case"end":return n.stop()}},s,i)}))()},getOrderList:function(){var e=this;return s()(n.a.mark(function t(){var r,i,s,_,l,u,p,c;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="",i="",t.next=4,a.i(o.g)({order_id:e.order_id});case 4:if(s=t.sent,1!=s.status){t.next=23;break}return t.next=8,a.i(o.h)({order_id:e.order_id});case 8:_=t.sent,e.passenger_data=[],l={},1==_.status&&(l.order_money=_.success),r=l.order_money,l.order_status="改签前",l.order_id=e.order_id,l.passenger_id_number=s.getOrderListList[0].passenger_id_number,l.passenger_phone_number=s.getOrderListList[0].passenger_phone_number,l.passenger_real_name=s.getOrderListList[0].passenger_real_name,l.carriage_no=s.getOrderListList[0].carriage_no,l.seat_type=s.getOrderListList[0].seat_type,l.train_number=e.train_number_old,l.seat_no=s.getOrderListList[0].seat_no,e.passenger_data.push(l);case 23:return t.next=25,a.i(o.i)({token:a.i(m.a)("token"),datetime:e.datetime,train_no:e.train_no,start_no:e.start_no,end_no:e.end_no,passenger_phone_number:e.passenger_phone_number});case 25:if(u=t.sent,e.show_passenger_ticket=!1,e.show_order_list=!0,1!=u.status){t.next=46;break}return p={},t.next=32,a.i(o.h)({order_id:u.getOrderListList[0].order_id});case 32:c=t.sent,1==c.status&&(p.order_money=c.success),i=p.order_money,p.order_status="改签后",p.order_id=u.getOrderListList[0].order_id,p.passenger_id_number=u.getOrderListList[0].passenger_id_number,p.passenger_phone_number=u.getOrderListList[0].passenger_phone_number,p.passenger_real_name=u.getOrderListList[0].passenger_real_name,p.seat_type=u.getOrderListList[0].seat_type,p.carriage_no=u.getOrderListList[0].carriage_no,p.train_number=e.train_number,p.seat_no=u.getOrderListList[0].seat_no,e.new_order_id=p.order_id,e.passenger_data.push(p);case 46:e.show_passenger_ticket=!1,e.show_order_list=!0,r=r.substring(1,r.length),i=i.substring(1,i.length),r=parseFloat(r),i=parseFloat(i),r-i<0?(e.$message({type:"success",message:"请支付差价¥"+(i-r)}),e.details="请支付差价¥"+(i-r)):r-i==0?e.pay_success():(e.$message({type:"success",message:"差价将自动退回您的账户"}),e.details="差价将自动退回您的账户",e.pay_success());case 53:case"end":return t.stop()}},t,e)}))()},pay_success:function(){var e=this;return s()(n.a.mark(function t(){var r,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="",r=r+e.new_order_id+",",t.next=4,a.i(o.j)({token:a.i(m.a)("token"),datetime:e.datetime,train_no:e.train_no,start_no:e.start_no,end_no:e.end_no,order_list:r});case 4:i=t.sent,1==i.status?(e.$message({message:i.success,type:"success"}),e.next()):e.$message({message:"支付失败",type:"danger"});case 6:case"end":return t.stop()}},t,e)}))()}},components:{headTop:l.a},created:function(){null==this.$route.query.datetime||null==this.$route.query.order_id?this.$message({message:"请选择改签的订单",type:"warning"}):(this.datetime=this.$route.query.datetime,this.order_id=this.$route.query.order_id,this.start_station_name=this.$route.query.start_station_name,this.end_station_name=this.$route.query.end_station_name,this.passenger_phone_number=this.$route.query.passenger_phone_number,this.searchForm.datetime=this.datetime,this.searchForm.start_station=this.start_station_name,this.searchForm.end_station=this.end_station_name,this.train_number_old=this.$route.query.train_number),this.initData()},mounted:function(){}}},270:function(e,t,a){t=e.exports=a(203)(!1),t.push([e.i,'.allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.explain_text{margin-top:20px;text-align:center;font-size:20px;color:#333}.admin_set{width:60%;background-color:#f9fafc;min-height:400px;margin:20px auto 0;border-radius:10px}.admin_set ul>li{padding:20px}.admin_set ul>li span{color:#666}.admin_title{margin-top:20px;font-size:24px;color:#666;text-align:center}.avatar-uploader .el-upload{border:1px dashed #d9d9d9;margin-top:10px;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#20a0ff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:120px;height:120px;line-height:120px;text-align:center}.avatar{width:120px;height:120px;display:block}.text{font-size:14px}.item{margin-bottom:18px}.clearfix:after,.clearfix:before{display:table;content:""}.clearfix:after{clear:both}.box-card{width:480px}',""])},291:function(e,t,a){var r=a(270);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(204)("1aab4494",r,!0)},312:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("meta",{attrs:{"http-equiv":"Cache-Control",content:"no-cache,no-store,must-revlidate"}}),e._v(" "),a("meta",{attrs:{"http-equiv":"Expires",content:"O"}}),e._v(" "),a("meta",{attrs:{"http-equiv":"Pragma",content:"no-cache"}}),e._v(" "),a("head-top"),e._v(" "),a("el-steps",{staticStyle:{"margin-top":"10px"},attrs:{active:e.active,"align-center":""}},[a("el-step",{attrs:{title:"查询列车"}}),e._v(" "),a("el-step",{attrs:{title:"选择座位"}}),e._v(" "),a("el-step",{attrs:{title:"订单"}}),e._v(" "),a("el-step",{attrs:{title:"改签成功"}})],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.show_passenger_ticket,expression:"show_passenger_ticket"}],staticStyle:{width:"1000px","margin-left":"80px","margin-top":"20px"},attrs:{data:e.passenger_data}},[a("el-table-column",{attrs:{property:"passenger_real_name",label:"乘客姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_phone_number",label:"乘客电话号码"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_id_number",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{property:"train_number",label:"车次"}}),e._v(" "),a("el-table-column",{attrs:{property:"carriage_no",label:"车厢号"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_no",label:"座位号"}})],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:0===e.active,expression:"active === 0"}]},[a("el-form",[a("el-row",{staticStyle:{"margin-left":"300px","margin-top":"10px",width:"800px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{attrs:{placeholder:"请输入始发站"},model:{value:this.start_station_name,callback:function(t){e.$set(this,"start_station_name",t)},expression:"this.start_station_name"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{"margin-left":"20px"}},[a("el-input",{attrs:{placeholder:"请输入终点站"},model:{value:this.end_station_name,callback:function(t){e.$set(this,"end_station_name",t)},expression:"this.end_station_name"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{"margin-left":"20px"}},[a("el-input",{attrs:{placeholder:"请输入时间"},model:{value:this.datetime,callback:function(t){e.$set(this,"datetime",t)},expression:"this.datetime"}})],1)])],1)],1),e._v(" "),a("div",{staticClass:"table_container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"train_number"}},[a("el-table-column",{attrs:{label:"车次",prop:"train_number"}}),e._v(" "),a("el-table-column",{attrs:{label:"出发站",prop:"start_station"}}),e._v(" "),a("el-table-column",{attrs:{label:"到达站",prop:"end_station"}}),e._v(" "),a("el-table-column",{attrs:{label:"出发时间",prop:"start_time"}}),e._v(" "),a("el-table-column",{attrs:{label:"到达时间",prop:"arrive_time"}}),e._v(" "),a("el-table-column",{attrs:{label:"特等座/软卧",prop:"high_seat_price"}}),e._v(" "),a("el-table-column",{attrs:{label:"一等座/硬卧",prop:"medium_seat_price"}}),e._v(" "),a("el-table-column",{attrs:{label:"二等座/硬座",prop:"low_seat_price"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleSearch(t.$index,e.datetime,t.row.train_no,t.row.start_no,t.row.end_no,t.row.train_number)}}},[e._v("查看余票")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"Success"},on:{click:function(a){return e.handleBuy(t.$index,e.datetime,t.row.train_no,t.row.start_no,t.row.end_no,t.row.train_number,t.row.high_seat_price,t.row.medium_seat_price,t.row.low_seat_price)}}},[e._v("改签")])]}}])})],1)],1),e._v(" "),a("el-dialog",{staticStyle:{width:"1500px"},attrs:{title:"余座数",visible:e.dialogTableVisible_GD},on:{"update:visible":function(t){e.dialogTableVisible_GD=t}}},[a("el-table",{attrs:{data:e.high_seat_GD}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座"}})],1),e._v(" "),a("el-table",{attrs:{data:e.medium_seat_GD}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座"}}),e._v(" "),a("el-table-column",{attrs:{property:"D_num",label:"D座"}})],1),e._v(" "),a("el-table",{attrs:{data:e.low_seat_GD}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座"}}),e._v(" "),a("el-table-column",{attrs:{property:"D_num",label:"D座"}}),e._v(" "),a("el-table-column",{attrs:{property:"E_num",label:"E座"}})],1)],1),e._v(" "),a("el-dialog",{staticStyle:{width:"1500px"},attrs:{title:"余座数",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-table",{attrs:{data:e.high_seat}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"upper_num",label:"上铺"}}),e._v(" "),a("el-table-column",{attrs:{property:"lower_num",label:"下铺"}})],1),e._v(" "),a("el-table",{attrs:{data:e.medium_seat}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"upper_num",label:"上铺"}}),e._v(" "),a("el-table-column",{attrs:{property:"middle_num",label:"中铺"}}),e._v(" "),a("el-table-column",{attrs:{property:"lower_num",label:"下铺"}})],1),e._v(" "),a("el-table",{attrs:{data:e.low_seat}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座"}}),e._v(" "),a("el-table-column",{attrs:{property:"D_num",label:"D座"}}),e._v(" "),a("el-table-column",{attrs:{property:"E_num",label:"E座"}}),e._v(" "),a("el-table-column",{attrs:{property:"F_num",label:"F座"}})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.active&&e.dialogTableVisible_x,expression:"active === 1 && dialogTableVisible_x"}],staticStyle:{"margin-top":"40px","margin-left":"80px"}},[a("el-table",{attrs:{data:e.high_seat}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"upper_num",label:"上铺",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"lower_num",label:"下铺",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"上铺")}}},[e._v("上铺")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"下铺")}}},[e._v("下铺")])]}}])})],1),e._v(" "),a("el-table",{attrs:{data:e.medium_seat}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"upper_num",label:"上铺",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{property:"middle_num",label:"中铺",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{property:"lower_num",label:"下铺",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"上铺")}}},[e._v("上铺")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"中铺")}}},[e._v("中铺")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"下铺")}}},[e._v("下铺")])]}}])})],1),e._v(" "),a("el-table",{attrs:{data:e.low_seat}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"D_num",label:"D座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"E_num",label:"E座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"F_num",label:"F座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"500"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"A")}}},[e._v("A")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"B")}}},[e._v("B")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"C")}}},[e._v("C")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"D")}}},[e._v("D")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"E")}}},[e._v("E")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"F")}}},[e._v("F")])]}}])})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.active&&e.dialogTableVisible_x_GD,expression:"active === 1 && dialogTableVisible_x_GD"}],staticStyle:{"margin-top":"40px","margin-left":"80px"}},[a("el-table",{attrs:{data:e.high_seat_GD}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"A")}}},[e._v("A")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"B")}}},[e._v("B")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"C")}}},[e._v("C")])]}}])})],1),e._v(" "),a("el-table",{attrs:{data:e.medium_seat_GD}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座",width:"115"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座",width:"115"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座",width:"115"}}),e._v(" "),a("el-table-column",{attrs:{property:"D_num",label:"D座",width:"115"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"A")}}},[e._v("A")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"B")}}},[e._v("B")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"C")}}},[e._v("C")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"D")}}},[e._v("D")])]}}])})],1),e._v(" "),a("el-table",{attrs:{data:e.low_seat_GD}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{property:"D_num",label:"D座",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{property:"E_num",label:"E座",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"A")}}},[e._v("A")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"B")}}},[e._v("B")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"C")}}},[e._v("C")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"D")}}},[e._v("D")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"E")}}},[e._v("E")])]}}])})],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:2===e.active,expression:"active === 2"}]},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.show_order_list,expression:"show_order_list"}],staticStyle:{width:"1000px","margin-left":"80px","margin-top":"20px"},attrs:{data:e.passenger_data}},[a("el-table-column",{attrs:{property:"order_status",label:"订单状态"}}),e._v(" "),a("el-table-column",{attrs:{property:"order_id",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_real_name",label:"乘客姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_phone_number",label:"乘客电话号码"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_id_number",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{property:"train_number",label:"车次"}}),e._v(" "),a("el-table-column",{attrs:{property:"carriage_no",label:"车厢号"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_no",label:"座位号"}}),e._v(" "),a("el-table-column",{attrs:{property:"order_money",label:"价格"}})],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"30px","margin-left":"150px"}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{color:"#1c8de0"}},[e._v(e._s(e.details))])])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-button",{staticStyle:{"margin-left":"300px"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible_wx=!0}}},[e._v("微信支付")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"300px"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible_zfb=!0}}},[e._v("支付宝支付")])],1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"500px"},attrs:{type:"primary"},on:{click:function(t){return e.pay_success()}}},[e._v("支付成功")]),e._v(" "),a("el-dialog",{attrs:{title:"微信支付",visible:e.dialogFormVisible_wx},on:{"update:visible":function(t){e.dialogFormVisible_wx=t}}},[a("el-image",{staticStyle:{width:"300px",height:"500px"},attrs:{src:e.url1,fit:e.fit}})],1),e._v(" "),a("el-dialog",{attrs:{title:"支付宝支付",visible:e.dialogFormVisible_zfb},on:{"update:visible":function(t){e.dialogFormVisible_zfb=t}}},[a("el-image",{staticStyle:{width:"300px",height:"500px"},attrs:{src:e.url2,fit:e.fit}})],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:3===e.active,expression:"active === 3"}]},[a("div",{staticStyle:{"margin-top":"30px","margin-left":"50px","margin-right":"50px"}},[a("el-alert",{attrs:{title:"恭喜您改签成功，请在未出行订单列表中查看",type:"success",effect:"dark"}})],1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"500px","margin-top":"30px"},attrs:{type:"primary",round:""},on:{click:e.next}},[e._v("下一步")])],1)],1)},staticRenderFns:[]}}});