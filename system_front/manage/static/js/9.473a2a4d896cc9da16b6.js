webpackJsonp([9],{213:function(e,t,a){a(297);var r=a(92)(a(240),a(318),null,null);e.exports=r.exports},227:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(57),n=a.n(r),s=a(56),i=a.n(s),_=a(58),o=a.n(_),l=a(93),p=(a(95),a(94));t.default={data:function(){return{url:"https://40964096.xyz/xiaojiejie.jpg"}},created:function(){this.adminInfo.id||this.getAdminData()},computed:o()({},a.i(p.b)(["adminInfo"])),methods:o()({},a.i(p.c)(["getAdminData"]),{handleCommand:function(e){var t=this;return i()(n.a.mark(function r(){var s;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("home"!=e){r.next=4;break}t.$router.push("/manage"),r.next=9;break;case 4:if("signout"!=e){r.next=9;break}return r.next=7,a.i(l.k)();case 7:s=r.sent,1==s.status?(t.$message({type:"success",message:"退出成功"}),t.$router.push("/")):t.$message({type:"error",message:s.message});case 9:case"end":return r.stop()}},r,t)}))()}})}},228:function(e,t,a){t=e.exports=a(203)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.header_container{background-color:#eff2f7;height:60px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px}.avator{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},229:function(e,t,a){var r=a(228);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(204)("1a5dfe8b",r,!0)},230:function(e,t,a){a(229);var r=a(92)(a(227),a(231),null,null);e.exports=r.exports},231:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[e._v("首页")]),e._v(" "),e._l(e.$route.meta,function(t,r){return a("el-breadcrumb-item",{key:r},[e._v(e._s(t))])})],2),e._v(" "),a("el-dropdown",{attrs:{"menu-align":"start"},on:{command:e.handleCommand}},[a("img",{staticClass:"avator",attrs:{src:e.url}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"home"}},[e._v("首页")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"signout"}},[e._v("退出")])],1)],1)],1)},staticRenderFns:[]}},240:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(57),n=a.n(r),s=a(56),i=a.n(s),_=a(230),o=a.n(_),l=a(93),p=a(96);t.default={name:"TicketOrder",data:function(){return{datetime:"",train_no:"",start_no:"",end_no:"",train_number:"",high_seat_price:"",medium_seat_price:"",low_seat_price:"",url2:"https://39.105.44.114/zfb.JPG",url1:"https://39.105.44.114/wx.JPG",active:0,dialogTableVisible:!1,dialogTableVisible_GD:!1,show_passenger:!1,show_passenger_ticket:!1,show_order_list:!1,passenger_count:0,high_seat:[],medium_seat:[],low_seat:[],high_seat_GD:[],medium_seat_GD:[],low_seat_GD:[],tableDatas:[],passenger_data:[],ticket_data:[],dialogFormVisible_wx:!1,dialogFormVisible_zfb:!1}},methods:{next:function(){this.active++,1==this.active&&this.getTicketCount(),2==this.active&&this.getOrderList(),4==this.active&&this.$router.push("AllOrderList")},getTicketCount:function(){var e=this;return i()(n.a.mark(function t(){var r,s,i,_,o,p,u,c,m;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(l.c)({datetime:e.datetime,train_no:e.train_no,start_no:e.start_no,end_no:e.end_no,train_number:e.train_number});case 2:if(r=t.sent,1==r.status){if("G"==e.train_number[0]||"D"==e.train_number[0]){for(e.high_seat_GD=[],e.medium_seat_GD=[],e.low_seat_GD=[],s=0;s<r.trainRemainingSeats_gds.length;s++)"特等座"==r.trainRemainingSeats_gds[s].seat_type&&(i={},i.carriage_number=r.trainRemainingSeats_gds[s].carriage_no,i.seat_type=r.trainRemainingSeats_gds[s].seat_type,i.A_num=r.trainRemainingSeats_gds[s].high_seat_GD_A,i.B_num=r.trainRemainingSeats_gds[s].high_seat_GD_B,i.C_num=r.trainRemainingSeats_gds[s].high_seat_GD_C,e.high_seat_GD.push(i)),"一等座"==r.trainRemainingSeats_gds[s].seat_type&&(_={},_.carriage_number=r.trainRemainingSeats_gds[s].carriage_no,_.seat_type=r.trainRemainingSeats_gds[s].seat_type,_.A_num=r.trainRemainingSeats_gds[s].medium_seat_GD_A,_.B_num=r.trainRemainingSeats_gds[s].medium_seat_GD_B,_.C_num=r.trainRemainingSeats_gds[s].medium_seat_GD_C,_.D_num=r.trainRemainingSeats_gds[s].medium_seat_GD_D,e.medium_seat_GD.push(_)),"二等座"==r.trainRemainingSeats_gds[s].seat_type&&(o={},o.carriage_number=r.trainRemainingSeats_gds[s].carriage_no,o.seat_type=r.trainRemainingSeats_gds[s].seat_type,o.A_num=r.trainRemainingSeats_gds[s].low_seat_GD_A,o.B_num=r.trainRemainingSeats_gds[s].low_seat_GD_B,o.C_num=r.trainRemainingSeats_gds[s].low_seat_GD_C,o.D_num=r.trainRemainingSeats_gds[s].low_seat_GD_D,o.E_num=r.trainRemainingSeats_gds[s].low_seat_GD_E,e.low_seat_GD.push(o));e.dialogTableVisible_GD=!0}else{for(e.high_seat=[],e.medium_seat=[],e.low_seat=[],p=0;p<r.trainRemainingSeats.length;p++)"软卧"==r.trainRemainingSeats[p].seat_type&&(u={},u.carriage_number=r.trainRemainingSeats[p].carriage_no,u.seat_type=r.trainRemainingSeats[p].seat_type,u.upper_num=r.trainRemainingSeats[p].high_seat_upper,u.lower_num=r.trainRemainingSeats[p].high_seat_lower,e.high_seat.push(u)),"硬卧"==r.trainRemainingSeats[p].seat_type&&(c={},c.carriage_number=r.trainRemainingSeats[p].carriage_no,c.seat_type=r.trainRemainingSeats[p].seat_type,c.upper_num=r.trainRemainingSeats[p].medium_seat_upper,c.middle_num=r.trainRemainingSeats[p].medium_seat_middle,c.lower_num=r.trainRemainingSeats[p].medium_seat_lower,e.medium_seat.push(c)),"硬坐"==r.trainRemainingSeats[p].seat_type&&(m={},m.carriage_number=r.trainRemainingSeats[p].carriage_no,m.seat_type="硬座",m.A_num=r.trainRemainingSeats[p].low_seat_A,m.B_num=r.trainRemainingSeats[p].low_seat_B,m.C_num=r.trainRemainingSeats[p].low_seat_C,m.D_num=r.trainRemainingSeats[p].low_seat_D,m.E_num=r.trainRemainingSeats[p].low_seat_E,m.F_num=r.trainRemainingSeats[p].low_seat_F,e.low_seat.push(m));e.dialogTableVisible=!0}e.$message({type:"message",message:"查询成功"})}else 404==r.status?e.$message({type:"error",message:"请输入正确时间"}):e.$message({type:"error",message:"查询失败"});case 4:case"end":return t.stop()}},t,e)}))()},getPassenger:function(){var e=this;return i()(n.a.mark(function t(){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(l.q)({token:a.i(p.a)("token")});case 2:r=t.sent,1==r.status?(e.$message({type:"success",message:"成功"}),e.tableDatas=r.passengerInfos,console.log(e.tableDatas)):e.$message({type:"error",message:res.success});case 4:case"end":return t.stop()}},t,e)}))()},AddPassengerInfo:function(e,t,a){var r={};r.passenger_real_name=e,r.passenger_phone_number=t,r.passenger_id_number=a,this.passenger_data.push(r),this.passenger_count++,this.$message({message:"当前添加了"+this.passenger_count+"位乘客",type:"success"}),this.show_passenger=!0},handleAdd:function(e,t,r){var s=this;return i()(n.a.mark(function i(){var _,o,u;return n.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(s.passenger_count>0)){n.next=10;break}return _=s.passenger_data[s.passenger_count-1].passenger_phone_number,o=s.passenger_data[s.passenger_count-1].passenger_id_number,console.log(s.datetime+s.train_no+s.start_no+s.end_no+s.train_number+e+t+r+_+o),n.next=6,a.i(l.f)({token:a.i(p.a)("token"),datetime:s.datetime,train_no:s.train_no,start_no:s.start_no,end_no:s.end_no,train_number:s.train_number,carriage_no:e,seat_type:t,seat_number:r,passenger_phone_number:_,passenger_id_number:o,high_seat_price:s.high_seat_price,medium_seat_price:s.medium_seat_price,low_seat_price:s.low_seat_price});case 6:u=n.sent,1==u.status?_==u.passenger_phone_number&&(s.passenger_data[s.passenger_count-1].carriage_no=u.carriage_no,s.passenger_data[s.passenger_count-1].seat_type=u.seat_type,s.passenger_data[s.passenger_count-1].seat_no=u.result_seat_no,s.$message({message:"乘客"+s.passenger_data[s.passenger_count-1].passenger_real_name+"选座成功",type:"success"})):40008==u.status?s.$message({message:"该乘客有冲突的行程，无法选座",type:"warning"}):40009==u.status&&s.$message({message:"该乘客有冲突行程   ",type:"warning"}),s.passenger_count--,0==s.passenger_count&&(s.show_passenger=!1,s.show_passenger_ticket=!0);case 10:console.log(s.datetime+s.train_no+s.start_no+s.end_no+s.train_number+e+t+r);case 11:case"end":return n.stop()}},i,s)}))()},deletepassenger:function(e){for(var t=0;t<this.passenger_data.length;t++)this.passenger_data[t].passenger_phone_number==e&&this.passenger_data.splice(t,1);this.passenger_count--},getOrderList:function(){var e=this;return i()(n.a.mark(function t(){var r,s,i,_;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(l.x)({token:a.i(p.a)("token"),datetime:e.datetime,train_no:e.train_no,start_no:e.start_no,end_no:e.end_no});case 2:if(r=t.sent,1==r.status){for(s=0;s<r.getOrderListList.length;s++)for(i=0;i<e.passenger_data.length;i++)if(r.getOrderListList[s].passenger_phone_number==e.passenger_data[i].passenger_phone_number&&r.getOrderListList[s].passenger_id_number==e.passenger_data[i].passenger_id_number)for(e.passenger_data[i].order_id=r.getOrderListList[s].order_id,_=0;_<e.tableDatas.length;_++)e.tableDatas[_].passenger_phone_number==e.passenger_data[i].passenger_phone_number&&(1==e.tableDatas[_].passenger_type?("二等座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=e.low_seat_price),"一等座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=e.medium_seat_price),"特等座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=e.high_seat_price),"硬座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=e.low_seat_price),"硬卧"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=e.medium_seat_price),"软卧"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=e.high_seat_price)):("二等座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=.75*parseInt(e.low_seat_price.substring(1,e.low_seat_price.length)),console.log(e.low_seat_price)),"一等座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=.75*parseInt(e.medium_seat_price.substring(1,e.medium_seat_price.length))),"特等座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=.75*parseInt(e.high_seat_price.substring(1,e.high_seat_price.length))),"硬座"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=.5*parseInt(e.low_seat_price.substring(1,e.low_seat_price.length))),"硬卧"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=.5*parseInt(e.medium_seat_price.substring(1,e.medium_seat_price.length))),"软卧"==e.passenger_data[i].seat_type&&(e.passenger_data[i].seat_price=.5*parseInt(e.high_seat_price.substring(1,e.high_seat_price.length)))));e.show_passenger_ticket=!1,e.show_order_list=!0,e.$message({message:"请支付您的订单",type:"success"})}else e.$message({message:"获取订单列表失败",type:"warning"});case 4:case"end":return t.stop()}},t,e)}))()},pay_success:function(){var e=this;return i()(n.a.mark(function t(){var r,s,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r="",console.log(e.passenger_data.length),s=0;s<e.passenger_data.length;s++)r=r+e.passenger_data[s].order_id+",",console.log(r);return t.next=5,a.i(l.j)({token:a.i(p.a)("token"),datetime:e.datetime,train_no:e.train_no,start_no:e.start_no,end_no:e.end_no,order_list:r});case 5:i=t.sent,1==i.status?(e.$message({message:i.success,type:"success"}),e.next()):e.$message({message:"支付失败",type:"warning"});case 7:case"end":return t.stop()}},t,e)}))()}},components:{headTop:o.a},created:function(){null==this.$route.query.datetime||null==this.$route.query.train_no?this.$message({message:"请先选择一趟列车",type:"warning"}):(this.datetime=this.$route.query.datetime,this.train_no=this.$route.query.train_no,this.start_no=this.$route.query.start_no,this.end_no=this.$route.query.end_no,this.train_number=this.$route.query.train_number,this.high_seat_price=this.$route.query.high_seat_price,this.medium_seat_price=this.$route.query.medium_seat_price,this.low_seat_price=this.$route.query.low_seat_price)},mounted:function(){this.getPassenger()}}},276:function(e,t,a){t=e.exports=a(203)(!1),t.push([e.i,'.allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.explain_text{margin-top:20px;text-align:center;font-size:20px;color:#333}.admin_set{width:60%;background-color:#f9fafc;min-height:400px;margin:20px auto 0;border-radius:10px}.admin_set ul>li{padding:20px}.admin_set ul>li span{color:#666}.admin_title{margin-top:20px;font-size:24px;color:#666;text-align:center}.avatar-uploader .el-upload{border:1px dashed #d9d9d9;margin-top:10px;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#20a0ff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:120px;height:120px;line-height:120px;text-align:center}.avatar{width:120px;height:120px;display:block}.text{font-size:14px}.item{margin-bottom:18px}.clearfix:after,.clearfix:before{display:table;content:""}.clearfix:after{clear:both}.box-card{width:480px}',""])},297:function(e,t,a){var r=a(276);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(204)("9fd49bc6",r,!0)},318:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("meta",{attrs:{"http-equiv":"Cache-Control",content:"no-cache,no-store,must-revlidate"}}),e._v(" "),a("meta",{attrs:{"http-equiv":"Expires",content:"O"}}),e._v(" "),a("meta",{attrs:{"http-equiv":"Pragma",content:"no-cache"}}),e._v(" "),a("head-top"),e._v(" "),a("el-steps",{staticStyle:{"margin-top":"10px"},attrs:{active:e.active,"align-center":""}},[a("el-step",{attrs:{title:"添加乘客"}}),e._v(" "),a("el-step",{attrs:{title:"选择座位"}}),e._v(" "),a("el-step",{attrs:{title:"付款"}}),e._v(" "),a("el-step",{attrs:{title:"订票成功"}})],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.show_passenger,expression:"show_passenger"}],staticStyle:{width:"1000px","margin-left":"80px","margin-top":"20px"},attrs:{data:e.passenger_data}},[a("el-table-column",{attrs:{property:"passenger_real_name",label:"乘客姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_phone_number",label:"乘客电话号码"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_id_number",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deletepassenger(t.row.passenger_phone_number)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.show_passenger_ticket,expression:"show_passenger_ticket"}],staticStyle:{width:"1000px","margin-left":"80px","margin-top":"20px"},attrs:{data:e.passenger_data}},[a("el-table-column",{attrs:{property:"passenger_real_name",label:"乘客姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_phone_number",label:"乘客电话号码"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_id_number",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{property:"carriage_no",label:"车厢号"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_no",label:"座位号"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.active&&e.dialogTableVisible,expression:"active === 1 && dialogTableVisible"}],staticStyle:{"margin-top":"40px","margin-left":"80px"}},[a("el-table",{attrs:{data:e.high_seat}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"upper_num",label:"上铺",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"lower_num",label:"下铺",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"上铺")}}},[e._v("上铺")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"下铺")}}},[e._v("下铺")])]}}])})],1),e._v(" "),a("el-table",{attrs:{data:e.medium_seat}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"upper_num",label:"上铺",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{property:"middle_num",label:"中铺",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{property:"lower_num",label:"下铺",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"上铺")}}},[e._v("上铺")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"中铺")}}},[e._v("中铺")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"下铺")}}},[e._v("下铺")])]}}])})],1),e._v(" "),a("el-table",{attrs:{data:e.low_seat}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"D_num",label:"D座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"E_num",label:"E座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"F_num",label:"F座",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"500"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"A")}}},[e._v("A")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"B")}}},[e._v("B")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"C")}}},[e._v("C")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"D")}}},[e._v("D")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"E")}}},[e._v("E")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"F")}}},[e._v("F")])]}}])})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.active&&e.dialogTableVisible_GD,expression:"active === 1 && dialogTableVisible_GD"}],staticStyle:{"margin-top":"40px","margin-left":"80px"}},[a("el-table",{attrs:{data:e.high_seat_GD}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"A")}}},[e._v("A")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"B")}}},[e._v("B")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"C")}}},[e._v("C")])]}}])})],1),e._v(" "),a("el-table",{attrs:{data:e.medium_seat_GD}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座",width:"115"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座",width:"115"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座",width:"115"}}),e._v(" "),a("el-table-column",{attrs:{property:"D_num",label:"D座",width:"115"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"A")}}},[e._v("A")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"B")}}},[e._v("B")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"C")}}},[e._v("C")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"D")}}},[e._v("D")])]}}])})],1),e._v(" "),a("el-table",{attrs:{data:e.low_seat_GD}},[a("el-table-column",{attrs:{property:"carriage_number",label:"车厢号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"A_num",label:"A座",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{property:"B_num",label:"B座",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{property:"C_num",label:"C座",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{property:"D_num",label:"D座",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{property:"E_num",label:"E座",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"A")}}},[e._v("A")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"B")}}},[e._v("B")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"C")}}},[e._v("C")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"D")}}},[e._v("D")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleAdd(t.row.carriage_number,t.row.seat_type,"E")}}},[e._v("E")])]}}])})],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:0===e.active,expression:"active === 0"}]},[a("div",e._l(e.tableDatas,function(t){return a("el-card",{staticClass:"box-card",staticStyle:{width:"1000px","margin-left":"80px","margin-top":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(t.passenger_real_name))]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(a){return e.AddPassengerInfo(t.passenger_real_name,t.passenger_phone_number,t.passenger_id_number)}}},[e._v("添加")])],1),e._v(" "),a("div",{staticClass:"text item"},[a("span",[e._v("电话号码：")]),a("span",[e._v(e._s(t.passenger_phone_number))])]),e._v(" "),1==t.passenger_type?a("div",{staticClass:"text item"},[a("span",[e._v("用户类型：")]),a("span",[e._v("成人")])]):a("div",{staticClass:"text item"},[a("span",[e._v("用户类型：")]),a("span",[e._v("学生")])]),e._v(" "),a("div",{staticClass:"text item"},[a("span",[e._v("身份证号：")]),a("span",[e._v(e._s(t.passenger_id_number))])]),e._v(" "),a("div",{staticClass:"text item"},[a("span",[e._v("地址：")]),a("span",[e._v(e._s(t.passenger_address))])])])}),1)]),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:2===e.active,expression:"active === 2"}]},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.show_order_list,expression:"show_order_list"}],staticStyle:{width:"1000px","margin-left":"80px","margin-top":"20px"},attrs:{data:e.passenger_data}},[a("el-table-column",{attrs:{property:"order_id",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_real_name",label:"乘客姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_phone_number",label:"乘客电话号码"}}),e._v(" "),a("el-table-column",{attrs:{property:"passenger_id_number",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{property:"carriage_no",label:"车厢号"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_type",label:"座位类型"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_no",label:"座位号"}}),e._v(" "),a("el-table-column",{attrs:{property:"seat_price",label:"订单金额"}})],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-button",{staticStyle:{"margin-left":"300px"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible_wx=!0}}},[e._v("微信支付")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"300px"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible_zfb=!0}}},[e._v("支付宝支付")])],1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"500px"},attrs:{type:"primary"},on:{click:function(t){return e.pay_success()}}},[e._v("支付成功")]),e._v(" "),a("el-dialog",{attrs:{title:"微信支付",visible:e.dialogFormVisible_wx},on:{"update:visible":function(t){e.dialogFormVisible_wx=t}}},[a("el-image",{staticStyle:{width:"300px",height:"500px"},attrs:{src:e.url1,fit:e.fit}})],1),e._v(" "),a("el-dialog",{attrs:{title:"支付宝支付",visible:e.dialogFormVisible_zfb},on:{"update:visible":function(t){e.dialogFormVisible_zfb=t}}},[a("el-image",{staticStyle:{width:"300px",height:"500px"},attrs:{src:e.url2,fit:e.fit}})],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:3===e.active,expression:"active === 3"}]},[a("div",{staticStyle:{"margin-top":"30px","margin-left":"50px","margin-right":"50px"}},[a("el-alert",{attrs:{title:"恭喜您支付成功，请在未出行订单列表中查看",type:"success",effect:"dark"}})],1)]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"500px","margin-top":"30px"},attrs:{type:"primary",round:""},on:{click:e.next}},[e._v("下一步")])],1)},staticRenderFns:[]}}});